import random 

class Piece():

    def __init__(self) -> None:
        self.rotation = None
        self.initial_position = None
        self.type = None

    def getCurrentType(self):
        return self.type

    def getCurrentRotation(self):
        return self.rotation
    
    def getCurrentPosition(self):
        return self.initial_position

    def generatePiece(self, type, initial_position):
        match type:
            
            case "O": 
                match initial_position:
                    case _:
                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}
                        self.figure = [[1,1],[1,1]]

            case "I": 
                match initial_position:
                    case "vertical":
                        rotation = {0: [(2,-2),(1,-1),(0,0),(-1,1)],
                                    1: [(-2,2),(-1,1),(0,0),(1,-1)],
                                    2: [(2,-2),(1,-1),(0,0),(-1,1)],
                                    3: [(-2,2),(-1,1),(0,0),(1,-1)]}
                        self.figure = [[1],[1],[1],[1]]

                    case "horizontal":
                        rotation = {0: [(-2,2),(-1,1),(0,0),(1,-1)],
                                    1: [(2,-2),(1,-1),(0,0),(-1,1)],
                                    2: [(-2,2),(-1,1),(0,0),(1,-1)],
                                    3: [(2,-2),(1,-1),(0,0),(-1,1)]}
                        self.figure = [[1,1,1,1]]
                        
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}   
            case "J": 

                match initial_position:

                    case "horizontal_down": 

                        rotation = {0: [(-1,1),(0,0),(1,-1),(0,-2)],
                                    1: [(1,1),(0,0),(-2,0),(-1,-1)],
                                    2: [(0,2),(-1,1),(0,0),(1,-1)],
                                    3: [(1,1),(2,0),(0,0),(-1,-1)]}
                        self.figure = [[1,1,1],[0,0,1]]
                        
                    case "vertical_left":

                        rotation = {0: [(1,1),(0,0),(-2,0),(-1,-1)],
                                    1: [(0,2),(-1,1),(0,0),(1,-1)],
                                    2: [(1,1),(2,0),(0,0),(-1,-1)],
                                    3: [(-1,1),(0,0),(1,-1),(0,-2)]}
                        self.figure = [[0,1],[0,1],[1,1]]
                        
                    case "horizontal_up":

                        rotation = {0: [(0,2),(-1,1),(0,0),(1,-1)],
                                    1: [(1,1),(2,0),(0,0),(-1,-1)],
                                    2: [(-1,1),(0,0),(1,-1),(0,-2)],
                                    3: [(1,1),(0,0),(-2,0),(-1,-1)]}
                        self.figure = [[1],[1,1,1]]
                        
                    case "vertical_right":

                        rotation = {0: [(1,1),(2,0),(0,0),(-1,-1)],
                                    1: [(-1,1),(0,0),(1,-1),(0,-2)],
                                    2: [(1,1),(0,0),(-2,0),(-1,-1)],
                                    3: [(0,2),(-1,1),(0,0),(1,-1)]}
                        self.figure = [[1,1],[1],[1]]
                        
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}
            case "L": 
                
                match initial_position:

                    case "horizontal_down": 

                        rotation = {0: [(-1,1),(0,0),(1,-1),(-2,0)],
                                    1: [(0,2),(1,1),(0,0),(-1,-1)],
                                    2: [(2,0),(-1,1),(0,0),(1,-1)],
                                    3: [(1,1),(0,0),(-1,-1),(0,-2)]}
                        self.figure = [[1,1,1],[1]]
                        
                    case "vertical_left": 

                        rotation = {0: [(0,2),(1,1),(0,0),(-1,-1)],
                                    1: [(2,0),(-1,1),(0,0),(1,-1)],
                                    2: [(1,1),(0,0),(-1,-1),(0,-2)],
                                    3: [(-1,1),(0,0),(1,-1),(-2,0)]}
                        self.figure = [[1,1],[0,1],[0,1]]
                        
                    case "horizontal_up":

                        rotation = {0: [(2,0),(-1,1),(0,0),(1,-1)],
                                    1: [(1,1),(0,0),(-1,-1),(0,-2)],
                                    2: [(-1,1),(0,0),(1,-1),(-2,0)],
                                    3: [(0,2),(1,1),(0,0),(-1,-1)]}
                        self.figure = [[0,0,1],[1,1,1]]
                        
                    case "vertical_right":

                        rotation = {0: [(1,1),(0,0),(-1,-1),(0,-2)],
                                    1: [(-1,1),(0,0),(1,-1),(-2,0)],
                                    2: [(0,2),(1,1),(0,0),(-1,-1)],
                                    3: [(2,0),(-1,1),(0,0),(1,-1)]}
                        self.figure = [[1],[1],[1,1]]
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}
            case "T": 

                match initial_position:

                    case "horizontal_down": 
                        rotation = {0: [(-1,1),(0,0),(1,-1),(-1,-1)],
                                    1: [(1,1),(-1,1),(0,0),(-1,-1)],
                                    2: [(1,1),(-1,1),(0,0),(1,-1)],
                                    3: [(1,1),(0,0),(1,-1),(-1,-1)]}
                        self.figure = [[1,1,1],[0,1,0]]

                    case "left": 
                        
                        rotation = {0: [(1,1),(-1,1),(0,0),(-1,-1)],
                                    1: [(1,1),(-1,1),(0,0),(1,-1)],
                                    2: [(1,1),(0,0),(1,-1),(-1,-1)],
                                    3: [(-1,1),(0,0),(1,-1),(-1,-1)]}
                        self.figure = [[0,1],[1,1],[0,1]]
                        
                    case "horizontal_up":

                        rotation = {0: [(1,1),(-1,1),(0,0),(1,-1)],
                                    1: [(1,1),(0,0),(1,-1),(-1,-1)],
                                    2: [(-1,1),(0,0),(1,-1),(-1,-1)],
                                    3: [(1,1),(-1,1),(0,0),(-1,-1)]}
                        self.figure = [[0,1,0],[1,1,1]]

                    case "right":
                        rotation = {0: [(1,1),(0,0),(1,-1),(-1,-1)],
                                    1: [(-1,1),(0,0),(1,-1),(-1,-1)],
                                    2: [(1,1),(-1,1),(0,0),(-1,-1)],
                                    3: [(1,1),(-1,1),(0,0),(1,-1)]}
                        self.figure = [[1,0],[1,1],[1,0]]
                        
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}                            
            case "S":

                match initial_position:

                    case "horizontal": 

                        rotation = {0: [(0,1),(1,0),(-2,1),(-1,0)],
                                    1: [(1,1),(0,0),(1,-1),(0,-2)],
                                    2: [(0,1),(1,0),(-2,1),(-1,0)],
                                    3: [(1,1),(0,0),(1,-1),(0,-2)]}
                        self.figure = [[0,1,1],[1,1,0]]
                        
                    case "vertical": 
                        
                        rotation = {0: [(1,1),(0,0),(1,-1),(0,-2)],
                                    1: [(0,1),(1,0),(-2,1),(-1,0)],
                                    2: [(1,1),(0,0),(1,-1),(0,-2)],
                                    3: [(0,1),(1,0),(-2,1),(-1,0)]}
                        self.figure = [[1,0],[1,1],[0,1]]
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}
            case "Z":    

                match initial_position: 

                    case "horizontal": 

                        rotation = {0: [(-1,2),(0,1),(-1,0),(0,-1)],
                                    1: [(2,0),(0,0),(1,-1),(-1,-1)],
                                    2: [(-1,2),(0,1),(-1,0),(0,-1)],
                                    3: [(2,0),(0,0),(1,-1),(-1,-1)]}
                        self.figure = [[1,1,0],[0,1,1]]
                        
                    case "vertical": 
                        
                        rotation = {0: [(2,0),(0,0),(1,-1),(-1,-1)],
                                    1: [(-1,2),(0,1),(-1,0),(0,-1)],
                                    2: [(2,0),(0,0),(1,-1),(-1,-1)],
                                    3: [(-1,2),(0,1),(-1,0),(0,-1)]}
                    case _:

                        rotation = {0: [(0,0),(0,0),(0,0),(0,0)],
                                    1: [(0,0),(0,0),(0,0),(0,0)],
                                    2: [(0,0),(0,0),(0,0),(0,0)],
                                    3: [(0,0),(0,0),(0,0),(0,0)]}
        self.rotation = rotation
        self.type = type
        self.initial_position = initial_position
        return self
    